#!/usr/bin/env node

var argv = require("yargs")
  .alias('v', 'version')
  .version(function() { return require('../package').version; })
  .describe('v', 'show version information')
  .alias('h', 'help')
  .help('help')
  .usage('Usage: $0 ./path/to/aigis_config.yml')
  .showHelpOnFail(false, "Specify --help for available options")
  .argv

var path = require("path");
var _ = require("lodash");
var fs = require("fs-extra");

var Aigis = require("../index");
var aigis, configFilePath;

if (_.isUndefined(argv._[0])) {
  configFilePath = "aigis_config.yml";
}
else {
  configFilePath = argv._[0];
}

try {
  aigis = new Aigis(configFilePath);
  aigis.run();
}
catch(e) {
  console.error(e.message);
  process.exit(1);
}
