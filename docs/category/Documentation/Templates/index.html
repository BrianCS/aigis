<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="../../../doc_assets/css/dracula.css" rel="stylesheet">
    <link href="../../../doc_assets/css/doc.css" rel="stylesheet">
  </head>
  <body>
    <header class="doc-Header">
  <nav class="doc-Header_Nav">
    <div class="doc-Header_Col-left">
      <a class="doc-Header_Home" href="../../../../">
        aigis
      </a>
    </div>
    <div class="doc-Header_Col-right">
      <ul class="doc-Header_Menu">
        <li class="doc-Header_MenuItem"><a href="../../../../sample/" target="_blank">Sample</a></li>
        <li class="doc-Header_MenuItem"><a href="https://github.com/pxgrid/aigis/" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </nav>
</header>

    <main class="doc-Body">
      <div class="doc-Body_Col-left">
        <nav class="doc-Menu">
  <a href="../../../">Index</a>
  <ul data-path-depth="0"><li data-path-depth="0"><a href="../../../category/Documentation">Documentation</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Documentation/Comment-Syntax">Comment Syntax</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Configs">Configs</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Syntax-Highlight">Syntax Highlight</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Templates" data-tree-current>Templates</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Guide">Guide</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Guide/Quick-Start">Quick Start</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Tips">Tips</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Tips/Errors">Errors</a></li><li data-path-depth="1"><a href="../../../category/Tips/How-to">How to</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Usage">Usage</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Usage/CLI">CLI</a></li><li data-path-depth="1"><a href="../../../category/Usage/Node.js">Node.js</a></li><li data-path-depth="1"><a href="../../../category/Usage/gulp">gulp</a></li></ul></li></ul>
</nav>

      </div>
      <div class="doc-Body_Col-right">
        <div class="doc-Modules">
  
    
      <div class="doc-Module">
        <h1 class="doc-Module_heading" id="Templates">
          Templates
        </h1>
        <p class="">スタイルガイドの生成にはテンプレートが必要になります。aigisではテンプレートとして次の3種類のテンプレートエンジンから選択して利用することができます。</p>
<h3 class="" id="-">利用できるテンプレートエンジンと拡張子</h3>
<ul class="">
<li class="">EJS: <code>.ejs</code></li>
<li class="">Jade: <code>.jade</code></li>
<li class="">Handlebars: <code>.hbs</code></li>
</ul>
<p class="">選択するテンプレートエンジンごとに決められた拡張子で<code>index.xxx</code>というファイルを作成してください。</p>
<blockquote class="">
<p class="">GitHubのリポジトリにはテーマを含めたexamplesがありますので、参考にしてみてください。このドキュメント自体もaigisで生成されたものなので、合わせて参考にしてみてください。</p>
<ul class="">
<li class=""><a class="" href="https://github.com/pxgrid/aigis/tree/topic/release_version_1/examples" title="null">aigis/examples</a></li>
<li class=""><a class="" href="https://github.com/pxgrid/aigis-docs/tree/master/src/template" title="null">aigis-docs/template</a></li>
</ul>
</blockquote>
<h2 class="" id="-">インデックステンプレート</h2>
<p class="">スタイルガイドの生成にはテンプレートファイルとして<code>index.xxx</code>が必要になります。</p>
<blockquote class="">
<h4 class="" id="-">インデックステンプレートのファイル名</h4>
<p class=""><code>template_engine</code>に<code>ejs</code>をしている場合には<code>index.ejs</code>が、<code>jade</code>を指定している場合には<code>index.jade</code>が、<code>hbs</code>を指定している場合には<code>index.hbs</code>が必要になります。
テンプレートエンジンの指定については<a class="" href="" title="null">Documentation/Configs</a>を参照。</p>
</blockquote>
<h3 class="" id="-">テンプレートのサンプル</h3>
<p class="">EJSのテンプレートの例です。テンプレートで参照している値は、スタイルガイド生成用にaigisがコンパイルした時に渡す値です。</p>
<pre><code class="lang-ejs"><pre class="editor editor-colors"><div class="line"><span class="text html js"><span class="meta tag sgml html"><span class="punctuation definition tag html"><span>&lt;!</span></span><span class="meta tag sgml doctype html"><span>DOCTYPE</span><span>&nbsp;html</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;</span></span><span class="entity name tag structure any html"><span>html</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;</span></span><span class="entity name tag structure any html"><span>head</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>meta</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>charset</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>utf-8</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>link</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>href</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>&lt;%=&nbsp;root&nbsp;%&gt;aigis_assets/css/doc.css</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>rel</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>stylesheet</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;/</span></span><span class="entity name tag structure any html"><span>head</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;</span></span><span class="entity name tag structure any html"><span>body</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;config</span><span class="meta delimiter method period js"><span>.</span></span><span class="support constant dom js"><span>name</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>nav</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;helper</span><span class="meta delimiter method period js"><span>.</span></span><span>renderCollectionTree</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>category</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>nav</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag other html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag other html"><span>main</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;html&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span>&nbsp;</span><span class="keyword control js"><span>if</span></span><span class="meta brace round js"><span>(</span></span><span>components</span><span class="meta delimiter method period js"><span>.</span></span><span class="support constant js"><span>length</span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span>&nbsp;components</span><span class="meta delimiter method period js"><span>.</span></span><span>forEach</span><span class="meta brace round js"><span>(</span><span>(</span></span><span>component</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword operator js"><span>=</span><span>&gt;</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;component</span><span class="meta delimiter method period js"><span>.</span></span><span>config</span><span class="meta delimiter method period js"><span>.</span></span><span class="support constant dom js"><span>name</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;component</span><span class="meta delimiter method period js"><span>.</span></span><span>html&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag other html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag other html"><span>main</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span><span>Last&nbsp;updated:&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;timestamp&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;/</span></span><span class="entity name tag structure any html"><span>body</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span class="meta tag structure any html"><span class="punctuation definition tag html"><span>&lt;/</span></span><span class="entity name tag structure any html"><span>html</span></span><span class="punctuation definition tag html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
<h1 class="" id="-">テンプレートで使える値</h1>
<p class="">aigisはコンパイル時につぎの値を元にテンプレートに渡しスタイルガイドを生成します。</p>
<table class="">
<thead>
<tr class="">
<th   class="">Name</th>
<th   class="">Type</th>
</tr>
</thead>
<tbody>
<tr class="">
<td   class="">components</td>
<td   class="">Array</td>
</tr>
<tr class="">
<td   class="">html</td>
<td   class="">String</td>
</tr>
<tr class="">
<td   class="">root</td>
<td   class="">String</td>
</tr>
<tr class="">
<td   class="">config</td>
<td   class="">Object</td>
</tr>
<tr class="">
<td   class="">timestamp</td>
<td   class="">String</td>
</tr>
<tr class="">
<td   class="">helper</td>
<td   class="">Object</td>
</tr>
</tbody>
</table>
<p class="">テンプレートでこの値を使ってスタイルガイドを構築します。</p>
<h2 class="" id="components">components</h2>
<p class="">コンポーネントのHTMLなどが入ったオブジェクトの配列。</p>
<p class="">たとえば<code>./css/style.css</code>に次のようなコンポーネントを記述した場合:</p>
<pre><code class="lang-yaml"><pre class="editor editor-colors"><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span class="string unquoted yaml"><span>--</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>name</span><span class="punctuation separator key-value yaml"><span>:</span></span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>component&nbsp;name</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>category</span><span class="punctuation separator key-value yaml"><span>:</span></span></span></span></span></div><div class="line"><span class="source yaml"><span>&nbsp;&nbsp;</span><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>mod</span></span></span></span></div><div class="line"><span class="source yaml"><span>&nbsp;&nbsp;</span><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>btn</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span class="string unquoted yaml"><span>--</span></span></span></span></div><div class="line"><span class="source yaml"><span>&nbsp;</span></span></div><div class="line"><span class="source yaml"><span class="comment line number-sign yaml"><span class="punctuation definition comment yaml"><span>#</span></span><span>#&nbsp;component</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source yaml"><span>&nbsp;</span></span></div><div class="line"><span class="source yaml"><span>this&nbsp;is&nbsp;component!</span></span></div></pre>
</code></pre>
<p class=""><code>components[0]</code>には次のようなコンポーネントが格納される:</p>
<pre><code class="lang-js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;md</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>##&nbsp;component</span><span class="constant character escape js"><span>\n</span><span>\n</span></span><span>this&nbsp;is&nbsp;component!</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;コンポーネントのドキュメント部分</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;html</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>&lt;h2&gt;component&lt;/h2&gt;&lt;p&gt;this&nbsp;is&nbsp;component&lt;/p&gt;</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;ドキュメント部分をパースしたHTML</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;config</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;コンポーネントのコンフィグ部分</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;name</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>component&nbsp;name</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;category</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace square js"><span>[</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>mod</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>btn</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta brace square js"><span>]</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="meta delimiter object comma js"><span>,</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;sourcePath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>/css/style.css</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;ドキュメントが記述されているファイルへのパス</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div></pre>
</code></pre>
<h2 class="" id="html">html</h2>
<p class="">インデックスページ用のMarkdownファイルをパースしたHTMLが格納されている。</p>
<p class=""><code>index.ejs</code>では次のようにすることで、インデックスページとコンポーネントページを同一のテンプレートでレンダリングすることができます。</p>
<pre><code><pre class="editor editor-colors"><div class="line"><span class="text html gohtml"><span class="meta tag other html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag other html"><span>main</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;&lt;%-&nbsp;html&nbsp;%&gt;</span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;&lt;%&nbsp;if(components.length)&nbsp;{&nbsp;%&gt;</span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;...</span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;&lt;%&nbsp;}&nbsp;%&gt;</span></span></div><div class="line"><span class="text html gohtml"><span class="meta tag other html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag other html"><span>main</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre><h2 class="" id="root">root</h2>
<p class="">出力されるページから見た、コンフィグファイルの<code>dest</code>で指定されたフォルダへの相対パスが格納されています。<code>&lt;head&gt;</code>要素などにCSSファイルへの参照を相対パスで書く際に利用できます。ファイルの参照を絶対パスで行う場合には使う必要はないでしょう。</p>
<blockquote class="">
<h4 class="" id="example">Example</h4>
<pre><code class="lang-ejs"><pre class="editor editor-colors"><div class="line"><span class="text html js"><span class="meta tag inline any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag inline any html"><span>link</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>href</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>&lt;%=&nbsp;root&nbsp;%&gt;aigis_assets/css/doc.css</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>rel</span></span><span>=</span><span class="string quoted double html"><span class="punctuation definition string begin html"><span>&quot;</span></span><span>stylesheet</span><span class="punctuation definition string end html"><span>&quot;</span></span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
</blockquote>
<h2 class="" id="config">config</h2>
<p class="">コンフィグファイル(<code>aigis_config.yml</code>)の内容が格納されたオブジェクトです。例えばコンフィグファイルの<code>name</code>という項目をテンプレートで使いたい場合、次のように<code>config.name</code>とすることで参照できます。</p>
<blockquote class="">
<h4 class="" id="example">Example</h4>
<p class="">config:</p>
<pre><code class="lang-yaml"><pre class="editor editor-colors"><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>name</span><span class="punctuation separator key-value yaml"><span>:</span></span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>styleguide!</span></span></span></span></div></pre>
</code></pre>
<p class="">template:</p>
<pre><code class="lang-ejs"><pre class="editor editor-colors"><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;config</span><span class="meta delimiter method period js"><span>.</span></span><span class="support constant dom js"><span>name</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
<p class="">output:</p>
<pre><code class="lang-html"><pre class="editor editor-colors"><div class="line"><span class="text html gohtml"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;styleguide!</span></span></div><div class="line"><span class="text html gohtml"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>header</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
</blockquote>
<h2 class="" id="timestamp">timestamp</h2>
<p class=""><code>aigis run</code>が実行された時間が格納されています。形式はコンフィグファイルの<code>timestamp_format</code>で指定できます。</p>
<p class=""><code>timestamp_format</code>に指定する形式は<a class="" href="http://momentjs.com/docs/#week-year-week-and-weekday-tokens" title="null">Moment.jsのformat</a>を参照してください。</p>
<blockquote class="">
<h4 class="" id="example">Example</h4>
<p class="">config:</p>
<pre><code class="lang-yaml"><pre class="editor editor-colors"><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>timestamp_format</span><span class="punctuation separator key-value yaml"><span>:</span></span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>YYYY/MM/DD&nbsp;HH:mm</span></span></span></span></div></pre>
</code></pre>
<p class="">template:</p>
<pre><code class="lang-ejs"><pre class="editor editor-colors"><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;timestamp&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
<p class="">output:</p>
<pre><code class="lang-html"><pre class="editor editor-colors"><div class="line"><span class="text html gohtml"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html gohtml"><span>&nbsp;&nbsp;2016/04/07&nbsp;17:11</span></span></div><div class="line"><span class="text html gohtml"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>footer</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
</blockquote>
<h2 class="" id="helper">helper</h2>
<p class="">複雑な処理が必要な場面で役に立つテンプレートヘルパーの集まりです。</p>
<h3 class="" id="helper-createcollectiontree-collection_name-">helper.createCollectionTree(collection_name)</h3>
<p class="">aigisはコンフィグファイルの<code>output_collection</code>にある値でコンポーネントをグルーピングして出力します。デフォルトでは<code>category</code>と<code>tag</code>が設定してあります。コレクションは次のように<code>/</code>を使うことで階層表現をすることができます。</p>
<pre><code class="lang-yaml"><pre class="editor editor-colors"><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span class="string unquoted yaml"><span>--</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>name</span><span class="punctuation separator key-value yaml"><span>:</span></span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>component</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="entity name tag yaml"><span>category</span><span class="punctuation separator key-value yaml"><span>:</span></span></span></span></span></div><div class="line"><span class="source yaml"><span>&nbsp;&nbsp;</span><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span>&nbsp;</span><span class="string unquoted yaml"><span>parent/child</span></span></span></span></div><div class="line"><span class="source yaml"><span class="string unquoted yaml"><span class="punctuation definition entry yaml"><span>-</span></span><span class="string unquoted yaml"><span>--</span></span></span></span></div></pre>
</code></pre>
<p class="">このコンポーネントの場合、parentカテゴリの下のchildカテゴリに所属しています。スタイルガイドの出力はこの階層情報を持ちながら出力されます。こういった階層をサイドメニューなどとして表現するのはとても面倒ですので、用意されていたヘルパーを使って簡単に行えるようにしてあります。</p>
<p class="">(このドキュメントのサイドメニューもこのヘルパーを使って出力されたものです。)</p>
<blockquote class="">
<h4 class="" id="example">Example</h4>
<pre><code class="lang-ejs"><pre class="editor editor-colors"><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;</span></span><span class="entity name tag block any html"><span>nav</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span>&nbsp;&nbsp;</span><span class="source js embedded html"><span class="punctuation section embedded js"><span>&lt;%</span></span><span class="keyword operator js"><span>-</span></span><span>&nbsp;helper</span><span class="meta delimiter method period js"><span>.</span></span><span>renderCollectionTree</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>category</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="punctuation section embedded js"><span>%&gt;</span></span></span></span></div><div class="line"><span class="text html js"><span class="meta tag block any html"><span class="punctuation definition tag begin html"><span>&lt;/</span></span><span class="entity name tag block any html"><span>nav</span></span><span class="punctuation definition tag end html"><span>&gt;</span></span></span></span></div></pre>
</code></pre>
</blockquote>

      </div>
  
</div>

      </div>
    </main>
  </body>
</html>
