<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="../../../doc_assets/css/okadia.css" rel="stylesheet">
    <link href="../../../doc_assets/css/doc.css" rel="stylesheet">
  </head>
  <body>
    <header class="doc-Header">
  <nav class="doc-Header_Nav">
    <div class="doc-Header_Col-left">
      <a class="doc-Header_Home" href="../../../../../">
        aigis
      </a>
    </div>
    <div class="doc-Header_Col-right">
      <ul class="doc-Header_Menu">
        <li class="doc-Header_MenuItem">Docs</li>
        <li class="doc-Header_MenuItem"><a href="../../../../../sample/" target="_blank">Sample</a></li>
        <li class="doc-Header_MenuItem"><a href="https://github.com/pxgrid/aigis/" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </nav>
</header>

    <main class="doc-Body">
      <div class="doc-Body_Col-left">
        <nav class="doc-Menu">
  <a href="../../../">Index</a>
  <ul data-path-depth="0"><li data-path-depth="0"><a href="../../../category/Documentation/index.html">Documentation</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Documentation/Comment-Syntax/index.html">Comment Syntax</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Configs/index.html" data-tree-current>Configs</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Syntax-Highlight/index.html">Syntax Highlight</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Templates/index.html">Templates</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Guide/index.html">Guide</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Guide/Quick-Start/index.html">Quick Start</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Tips/index.html">Tips</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Tips/Errors/index.html">Errors</a></li><li data-path-depth="1"><a href="../../../category/Tips/How-to/index.html">How to</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Usage/index.html">Usage</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Usage/CLI/index.html">CLI</a></li><li data-path-depth="1"><a href="../../../category/Usage/Node.js/index.html">Node.js</a></li><li data-path-depth="1"><a href="../../../category/Usage/gulp/index.html">gulp</a></li></ul></li></ul>
</nav>

      </div>
      <div class="doc-Body_Col-right">
        <div class="doc-Modules">
  
    
      <div class="doc-Module">
        <h1 class="doc-Module_heading" id="Configs">
          Configs
        </h1>
        <p>aigisは動作の多くをコンフィグファイル（<code>aigis_config.yml</code>）で制御します。全てのパスはコンフィグファイル（<code>aigis_config.yml</code>）が置かれている場所から相対的に解決されます。</p>
<h2 id="source-required-">source: (<code>required</code>)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String or Array</td>
<td  >undefined</td>
</tr>
</tbody>
</table>
<p>スタイルガイドを生成するソースとなるファイル（またはディレクトリ）への相対的なパスを指定します。単一の指定と配列による複数指定のどちらも行えます。</p>
<blockquote>
<h4 id="example">Example</h4>
<p>ソースとして特定のファイルとディレクトリを指定したい場合には次のように指定します。</p>
<pre><code class="lang-yaml"><span class="token key atrule" >source</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> ./css/style.css
  <span class="token punctuation" >-</span> ./scss
</code></pre>
</blockquote>
<h2 id="source_type-optional-">source_type: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String or Array</td>
<td  >[&#39;.css&#39;, &#39;.sass&#39;, &#39;.scss&#39;, &#39;.styl&#39;]</td>
</tr>
</tbody>
</table>
<p><code>source</code>にディレクトリが指定された場合、aigisは<code>source_type</code>に記述されている拡張子のファイルをソースの対象にします。デフォルトで<code>.css .sass .scss .styl</code>の4種類を対象とします。</p>
<blockquote>
<h4 id="example">Example</h4>
<p>ソースとするファイルのタイプを減らしたい場合、次のように対象とするタイプだけを指定します。</p>
<pre><code class="lang-yaml"><span class="token key atrule" >source_type</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> .css
  <span class="token punctuation" >-</span> .less
</code></pre>
<h5 id="markdown-">Markdownからスタイルガイドを生成する</h5>
<p>CSSのコメントブロック（<code>&#047;&#042; ~ &#042;&#047;</code>）と<code>---</code>で囲まれた設定の記述があれば、どんなファイルからでもスタイルガイドが生成できます。例えば、次のように<code>.md</code>を指定すればMarkdownファイルからスタイルガイドを生成できます。</p>
<pre><code class="lang-yaml"><span class="token key atrule" >source_type</span><span class="token punctuation" >:</span> .md
</code></pre>
</blockquote>
<h2 id="dest-optional-">dest: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;./styleguide&#39;</td>
</tr>
</tbody>
</table>
<p>スタイルガイドを出力するフォルダを指定します。指定がない場合、<code>aigis_config.yml</code>のあるフォルダに<code>styleguide</code>フォルダを作成して出力されます。</p>
<blockquote>
<h4 id="example">Example</h4>
<pre><code class="lang-yaml"><span class="token key atrule" >dest</span><span class="token punctuation" >:</span> ./path/to/destination
</code></pre>
</blockquote>
<h2 id="dependencies-optional-">dependencies: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String or Array</td>
<td  >undefined</td>
</tr>
</tbody>
</table>
<p>スタイルガイドに必要なファイルやディレクトリを指定します。指定されたファイルやディレクトリはスタイルガイドの出力先にコピーされます。</p>
<blockquote>
<h4 id="example">Example</h4>
<pre><code class="lang-yaml"><span class="token key atrule" >dependencies</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> ./path/to/css
  <span class="token punctuation" >-</span> ./path/to/images
  <span class="token punctuation" >-</span> ./path/to/style.css
</code></pre>
</blockquote>
<h2 id="template_dir-optional-">template_dir: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;./template&#39;</td>
</tr>
</tbody>
</table>
<p>スタイルガイドの生成に必要なテンプレートファイルが格納されているディレクトリを指定します。このディレクトリには<code>index.ejs</code>と<code>layout.ejs</code>の2つが含まれている必要があります。</p>
<blockquote>
<p><code>template_engine</code>に<code>jade</code>を指定している場合には<code>index.jade layout.jade</code>を、<code>hbs</code>を指定している場合には<code>index.hbs layout.hbs</code>が必要になります。</p>
<h4 id="example">Example</h4>
<pre><code class="lang-yaml"><span class="token key atrule" >template_dir</span><span class="token punctuation" >:</span> './path/to/template_dir
</code></pre>
</blockquote>
<h2 id="component_dir-optional-">component_dir: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;./html&#39;</td>
</tr>
</tbody>
</table>
<p>外部ファイルからHTMLをドキュメントコメント内に挿入したいときに使える<code>!![](./path/to/file.html)</code>という構文で、インポートするファイルのパスを解決するときに使われます。</p>
<h2 id="template_engine-optional-">template_engine: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;ejs&#39;</td>
</tr>
</tbody>
</table>
<p>スタイルガイドを生成する際に利用するテンプレートエンジンを指定します。aigisでは次の3つのテンプレートエンジンが利用できます。</p>
<ul>
<li>EJS（<code>ejs</code>）</li>
<li>Jade（<code>jade</code>）</li>
<li>Handlebars（<code>hbs</code>）</li>
</ul>
<p>このディレクトリには、利用するテンプレートごとに決められた拡張子で<code>index.xxx</code>というファイルが格納されている必要があります。</p>
<blockquote>
<h4 id="example">Example</h4>
<p>Jadeを利用したい場合</p>
<pre><code class="lang-yaml"><span class="token key atrule" >template_engine</span><span class="token punctuation" >:</span> jade
</code></pre>
</blockquote>
<h2 id="log-optional-">log: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >Boolean</td>
<td  >false</td>
</tr>
</tbody>
</table>
<p><code>log</code>が<code>true</code>の場合、スタイルガイド生成の際に出力されるファイルの一覧などをコンソールに出力します。</p>
<h2 id="color_palette-optional-">color_palette: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >Boolean</td>
<td  >true</td>
</tr>
</tbody>
</table>
<p>aigisは、スタイルガイドのソースとなるファイルから全ての色を収集し、一覧できるように<code>color.html</code>という特別なページを出力します。</p>
<p><a href="https://pxgrid.github.io/aigis/styleguide/color.html" title="null">サンプル: color.html</a></p>
<p>カラーパレットが必要ない場合、<code>false</code>を指定することでカラーパレットの出力を止めることができます。</p>
<h2 id="preview_class-optional-">preview_class: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;aigis-preview&#39;</td>
</tr>
</tbody>
</table>
<p>aigisがコードブロック(<code>```html</code>なので始まるブロック)からHTMLのプレビューを生成する際に、プレビューの外側の要素につくCSSのクラス名を指定できます。コンポーネントがスタイルガイドの影響を受けないようにスタイルを付けたり、JavaScriptから操作したい場合などに役に立ちます。</p>
<blockquote>
<h4 id="-">プレビューの挿入</h4>
<p>例えば、次のようなコードブロックを記述した場合</p>
<pre><code class="lang-html">```html
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span><span class="token punctuation" >></span></span>hoge<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
```
</code></pre>
<p>次のようなHTMLが挿入されます。</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >class</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>aigis-preview<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span><span class="token punctuation" >></span></span>hoge<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>
<h2 id="output_collection-optional-">output_collection: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String or Array</td>
<td  >[&#39;category&#39;, &#39;tag&#39;]</td>
</tr>
</tbody>
</table>
<p>出力するページのグループを指定します。<code>category</code>や<code>tag</code>以外にグルーピングして出力したい項目がある場合は<code>output_collection</code>に追加します。</p>
<p>例えばバージョニングを行っている場合には、コンポーネントの設定に次のように<code>version</code>を追加し、<code>output_collection</code>に<code>version</code>を追加することで<code>version</code>の値が同じコンポーネントがグルーピングされて出力されます。</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> btn
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> base
  <span class="token punctuation" >-</span> btn
<span class="token key atrule" >version</span><span class="token punctuation" >:</span> <span class="token number" >1</span>
<span class="token punctuation" >---</span>
</code></pre>
<pre><code class="lang-yaml"><span class="token key atrule" >output_collection</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> category
  <span class="token punctuation" >-</span> version
</code></pre>
<p>上記の指定の場合、<code>category</code>と<code>version</code>でまとめた2種類のページが出力されます。</p>
<h2 id="transform-optional-">transform: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String or Array</td>
<td  >[&#39;html&#39;, &#39;ejs&#39;, &#39;jade&#39;, &#39;hbs&#39;]</td>
</tr>
</tbody>
</table>
<p>コードブロックに特定のタイプが指定されている場合、aigisはそのコードブロックを実際のHTMLとしてドキュメントに追加します。これによってマークアップの例を示すとともにプレビューの表示も手軽に行なえます。デフォルトでは<code>html</code> <code>jade</code> <code>ejs</code> <code>hbs</code>のプレビューが有効になっています。</p>
<p>もしプレビューとして表示したくないタイプがある場合には、表示したいタイプだけを<code>transform</code>に指定します。</p>
<pre><code class="lang-yaml"><span class="token key atrule" >transform</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> html
  <span class="token punctuation" >-</span> hbs
</code></pre>
<blockquote>
<h4 id="-">テンプレートエンジンのコンパイル</h4>
<p><code>ejs</code> <code>jade</code> <code>hbs</code>のコードブロックは、コンポーネントの設定に<code>compile: true</code>を指定することで、コードブロックに設定の値を渡してコンパイルを行えます。</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> btn
<span class="token key atrule" >category</span><span class="token punctuation" >:</span> btn
<span class="token key atrule" >compile</span><span class="token punctuation" >:</span> <span class="token boolean important" >true</span>
<span class="token key atrule" >data</span><span class="token punctuation" >:</span>
  <span class="token key atrule" >value1</span><span class="token punctuation" >:</span> hoge
<span class="token punctuation" >---</span>
```ejs  
&lt;h2<span class="token punctuation" >></span>&lt;%<span class="token punctuation" >-</span> name %<span class="token punctuation" >></span>&lt;/h2<span class="token punctuation" >></span>
&lt;button<span class="token punctuation" >></span>&lt;%<span class="token punctuation" >-</span> data.value1 %<span class="token punctuation" >></span>&lt;/button<span class="token punctuation" >></span>
```
</code></pre>
<p>上記の場合、次のように値が反映された状態のHTMLが挿入されます。</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span> <span class="token attr-name" >class</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>aigis-preview<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h2</span><span class="token punctuation" >></span></span>btn<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h2</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span><span class="token punctuation" >></span></span>hoge<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>
<h2 id="highlight-optional-">highlight: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >Boolean</td>
<td  >true</td>
</tr>
</tbody>
</table>
<p>コードブロックのシンタックスハイライトを有効にするかを指定します。別のハイライトライブラリを使う場合ときなどは<code>highlight: false</code>とすることでaigisのハイライトをオフにできます。</p>
<h2 id="timestamp_format-optional-">timestamp_format: (optional)</h2>
<table>
<thead>
<tr>
<th  >Type</th>
<th  >Default</th>
</tr>
</thead>
<tbody>
<tr>
<td  >String</td>
<td  >&#39;YYYY/MM/DD HH:mm&#39;</td>
</tr>
</tbody>
</table>
<p>スタイルガイドを生成する際、aigisは<code>timestamp</code>という特別な変数をテンプレートに渡します。ドキュメントの更新日を記述したい際などに役にたつかもしれません。</p>
<p><code>timestamp_format</code>に指定する形式は<a href="http://momentjs.com/docs/#week-year-week-and-weekday-tokens" title="null">Moment.jsのformat</a>を参照してください。</p>

      </div>
  
</div>

      </div>
    </main>
  </body>
</html>
