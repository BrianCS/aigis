<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="../../../doc_assets/css/okadia.css" rel="stylesheet">
    <link href="../../../doc_assets/css/doc.css" rel="stylesheet">
  </head>
  <body>
    <header class="doc-Header">
  <nav class="doc-Header_Nav">
    <div class="doc-Header_Col-left">
      <a class="doc-Header_Home" href="../../../../../">
        aigis
      </a>
    </div>
    <div class="doc-Header_Col-right">
      <ul class="doc-Header_Menu">
        <li class="doc-Header_MenuItem">Docs</li>
        <li class="doc-Header_MenuItem"><a href="../../../../../sample/" target="_blank">Sample</a></li>
        <li class="doc-Header_MenuItem"><a href="https://github.com/pxgrid/aigis/" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </nav>
</header>

    <main class="doc-Body">
      <div class="doc-Body_Col-left">
        <nav class="doc-Menu">
  <a href="../../../">Index</a>
  <ul data-path-depth="0"><li data-path-depth="0"><a href="../../../category/Documentation/index.html">Documentation</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Documentation/Comment-Syntax/index.html" data-tree-current>Comment Syntax</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Configs/index.html">Configs</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Syntax-Highlight/index.html">Syntax Highlight</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Templates/index.html">Templates</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Guide/index.html">Guide</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Guide/Quick-Start/index.html">Quick Start</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Tips/index.html">Tips</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Tips/Errors/index.html">Errors</a></li><li data-path-depth="1"><a href="../../../category/Tips/How-to/index.html">How to</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Usage/index.html">Usage</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Usage/CLI/index.html">CLI</a></li><li data-path-depth="1"><a href="../../../category/Usage/Node.js/index.html">Node.js</a></li><li data-path-depth="1"><a href="../../../category/Usage/gulp/index.html">gulp</a></li></ul></li></ul>
</nav>

      </div>
      <div class="doc-Body_Col-right">
        <div class="doc-Modules">
  
    
      <div class="doc-Module">
        <h1 class="doc-Module_heading" id="Comment-Syntax">
          Comment Syntax
        </h1>
        <p>aigisではコメントブロック(<code>&#047;&#042; ~ &#042;&#047;</code>)にコンポーネントの<strong>コンフィグ</strong>と、コンポーネントの<strong>ドキュメント</strong>を合わせて記述します。次のコードの<code>---</code>で囲まれているブロックがコンフィグ(YAML)、それ以下がドキュメント(Markdown)になります。</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> component name
<span class="token key atrule" >tag</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> base
  <span class="token punctuation" >-</span> latest
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> component
  <span class="token punctuation" >-</span> component/button
<span class="token punctuation" >---</span>

<span class="token comment" spellcheck="true">## This is a component document</span>

* Base button component.
* Use `a` or `button` tag.

Here's an example code.

```html
&lt;a class="btn"<span class="token punctuation" >></span>Button&lt;/a<span class="token punctuation" >></span>
```
</code></pre>
<p>このコンフィグとドキュメントをセットに、コンポーネントのスタイルガイドを生成します。</p>
<h2 id="-">コンフィグブロック</h2>
<p><code>---</code>で囲まれた部分がコンポーネントのコンフィグです。コンフィグはYAML形式で記述します。</p>
<blockquote>
<p>より正確に言うとコメントブロックの開始行(<code>&#047;&#042;</code>)の次の行に<code>---</code>がある必要があります。</p>
</blockquote>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> component name
<span class="token key atrule" >tag</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> base
  <span class="token punctuation" >-</span> latest
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> component
  <span class="token punctuation" >-</span> component/button
<span class="token punctuation" >---</span>
</code></pre>
<p>コンフィグファイル(<code>aigis_config.yml</code>)の<code>output_collection:</code>に、コンポーネントのコンフィグの項目名(<code>category</code>や<code>tag</code>)を指定することで、その項目ごとにコンポーネントをグルーピングしてスタイルガイドを生成することができます。</p>
<blockquote>
<p>デフォルトでは<code>category</code>と<code>tag</code>をグルーピングして出力します。</p>
</blockquote>
<h2 id="-">ドキュメントブロック</h2>
<p>コンポーネントのドキュメントではMarkdown(<a href="https://help.github.com/categories/writing-on-github/" title="null">GitHub flavored markdown</a>)を使うことができます。</p>
<p>コードブロック(<code>&#8242;&#8242;&#8242;</code>)では特定のキーワードを指定することでシンタックスハイライトが有効になります。詳しくは<a href="../Syntax-Highlight/" title="null">Documentation/Syntax Highlight</a>を参照してください。</p>
<blockquote>
<p>aigisでは<a href="https://github.com/chjj/marked" title="null">chjj/marked</a>を使ってMarkdownをコンパイルします。また、Highlightなどの処理を行うために、<a href="https://github.com/pxgrid/aigis-marked/" title="null">aigis-marked</a>というカスタムレンダラを使用しています。</p>
</blockquote>
<h2 id="-">コンフィグの値を使ってプレビューを生成する</h2>
<p>aigisはコードブロック(<code>&#8242;&#8242;&#8242;</code>)に特定のキーワードをつけることでプレビューを生成し挿入します。EJSやJadeのようなテンプレートエンジンからプレビューを生成したい場合、コンフィグに<code>compile: true</code>を指定することでコンフィグに書かれた値をもとにプレビューを生成できます。</p>
<blockquote>
<p>プレビュー挿入の有効/無効の切り替えはコンフィグファイルの<code>transform:</code>で指定できます。<code>ejs</code>のときだけプレビューを有効にする場合には、次のように<code>transform:</code>に<code>ejs</code>だけを指定します。</p>
<pre><code class="lang-yaml"><span class="token key atrule" >transform</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> ejs
</code></pre>
</blockquote>
<p>EJSのコードブロックからHTMLのプレビューを生成するには、次のようなコンフィグを記述します。<code>compile:</code>の項目はコンポーネントごとに切り替えることができます。(Defaultでは<code>false</code>)</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> component name
<span class="token key atrule" >tag</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> base
  <span class="token punctuation" >-</span> latest
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> component
  <span class="token punctuation" >-</span> component/button
<span class="token key atrule" >data</span><span class="token punctuation" >:</span>
  <span class="token key atrule" >value1</span><span class="token punctuation" >:</span> hoge
  <span class="token key atrule" >value2</span><span class="token punctuation" >:</span> fuga
<span class="token key atrule" >compile</span><span class="token punctuation" >:</span> <span class="token boolean important" >true</span>
<span class="token punctuation" >---</span>

```ejs  
&lt;div<span class="token punctuation" >></span>
  &lt;h2<span class="token punctuation" >></span>&lt;%<span class="token punctuation" >-</span> name %<span class="token punctuation" >></span>&lt;/h2<span class="token punctuation" >></span>
  &lt;p<span class="token punctuation" >></span>&lt;%<span class="token punctuation" >-</span> data.value1 %<span class="token punctuation" >></span>&lt;/p<span class="token punctuation" >></span>
  &lt;p<span class="token punctuation" >></span>&lt;%<span class="token punctuation" >-</span> data.value2 %<span class="token punctuation" >></span>&lt;/p<span class="token punctuation" >></span>
&lt;/div<span class="token punctuation" >></span>
```
</code></pre>
<p>上記のコンフィグとコードブロックから次のようなHTMLがコードブロックの手前に挿入されます。Jade、Handlebarsも同様にコンパイルしたプレビューを生成することができます。</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h2</span><span class="token punctuation" >></span></span>component name<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h2</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>p</span><span class="token punctuation" >></span></span>hoge<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>p</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>p</span><span class="token punctuation" >></span></span>fuga<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>p</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
</code></pre>

      </div>
  
</div>

      </div>
    </main>
  </body>
</html>
